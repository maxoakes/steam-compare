(this.webpackJsonpsteamcompare=this.webpackJsonpsteamcompare||[]).push([[0],{24:function(e,t,a){},33:function(e,t,a){"use strict";a.r(t);var s=a(1),r=a.n(s),n=a(18),o=a.n(n),c=a(7),l=(a(24),a(25),a(13)),i=a(10),m=a.n(i),d=a(14),p=a(2),u=a(0),h=function(e){var t=e.usernameSearch,a=e.searchClick;console.log("SEARCH:",t);var r=Object(s.useState)(""),n=Object(c.a)(r,2),o=n[0],l=n[1],i=Object(s.useState)(""),h=Object(c.a)(i,2),j=h[0],b=h[1],g=Object(s.useState)(""),x=Object(c.a)(g,2),f=x[0],v=x[1],y=Object(s.useState)(""),S=Object(c.a)(y,2),O=S[0],w=S[1];function N(){return(N=Object(d.a)(m.a.mark((function e(t){var a,s,r,n,c,i,d,p,u,h,j,b,g,x,y,S,O,w,N,P,U,C,E,A,L;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a="https://still-tor-77449.herokuapp.com/",s="386540A52F687754D4E1767230822EDE",r={mode:"cors",cache:"no-cache",credentials:"same-origin",headers:{"Content-Type":"application/json"},redirect:"follow",referrerPolicy:"no-referrer"},n=document.getElementById("game").value,c=document.getElementById("username").value,i=0,d=0,!c){e.next=15;break}return console.log("ISteamUser/ResolveVanityURL"),e.next=11,I(a+"https://api.steampowered.com/ISteamUser/ResolveVanityURL/v1/?key="+s+"&vanityurl="+c+"&format=json",r);case 11:p=e.sent,console.log(p.response),i=p.response.steamid,console.log("Found user "+i+" from "+c);case 15:if(!n){e.next=22;break}return console.log("ISteamApps/GetAppList"),e.next=19,I(a+"http://api.steampowered.com/ISteamApps/GetAppList/v0002/",r);case 19:u=e.sent,(h=u.applist.apps.find((function(e){return e.name.toLowerCase()===n.toLowerCase()})))&&(console.log(h),console.log("Found game "+h.appid+" from "+n),d=h.appid);case 22:if(j=document.getElementById("user-app-content"))for(;j.firstChild;)j.removeChild(j.firstChild);if(!i||!d){e.next=63;break}return console.log("\tappid AND steamid searched"),console.log("ISteamUserStats/GetPlayerAchievements"),e.next=29,I(a+"https://api.steampowered.com/ISteamUserStats/GetPlayerAchievements/v1/?key="+s+"&steamid="+i+"&appid="+d+"&format=json",r);case 29:return g=e.sent,console.log("ISteamUserStats/GetGlobalAchievementPercentagesForApp"),e.next=33,I(a+"https://api.steampowered.com/ISteamUserStats/GetGlobalAchievementPercentagesForApp/v2/?key="+s+"&gameid="+d+"&format=json",r);case 33:return x=e.sent,console.log("ISteamUserStats/GetNumberOfCurrentPlayers"),e.next=37,I(a+"https://api.steampowered.com/ISteamUserStats/GetNumberOfCurrentPlayers/v1/?key="+s+"&appid="+d+"&format=json",r);case 37:return y=e.sent,console.log("ISteamUserStats/GetSchemaForGame"),e.next=41,I(a+"https://api.steampowered.com/ISteamUserStats/GetSchemaForGame/v2/?key="+s+"&appid="+d+"&format=json",r);case 41:return S=e.sent,console.log(S.game),b=S.game.gameName,console.log("ISteamUserStats/GetUserStatsForGame"),e.next=47,I(a+"https://api.steampowered.com/ISteamUserStats/GetUserStatsForGame/v2/?key="+s+"&appid="+d+"&steamid="+i+"&format=json",r);case 47:return O=e.sent,console.log(O.playerstats.stats),console.log("ISteamUser/GetPlayerSummaries"),e.next=52,I(a+"https://api.steampowered.com/ISteamUser/GetPlayerSummaries/v2/?key="+s+"&steamids="+i+"&format=json",r);case 52:return w=e.sent,console.log("IPlayerService/GetSteamLevel"),e.next=56,I(a+"https://api.steampowered.com/IPlayerService/GetSteamLevel/v1/?key="+s+"&steamid="+i+"&format=json",r);case 56:N=e.sent,l(w.response.players[0]),v(N.response.player_level.toString()),k(b,y.response.player_count),G(g.playerstats.achievements,x.achievementpercentages.achievements,S.game.availableGameStats.achievements),e.next=112;break;case 63:if(!i||d){e.next=111;break}return console.log("\tONLY steamid searched"),console.log("IPlayerService/GetOwnedGames"),e.next=68,I(a+"https://api.steampowered.com/IPlayerService/GetOwnedGames/v1/?key="+s+"&steamid="+i+"&format=json&include_appinfo=1",r);case 68:return P=e.sent,console.log(P.response),console.log("IPlayerService/GetRecentlyPlayedGames"),e.next=73,I(a+"https://api.steampowered.com/IPlayerService/GetRecentlyPlayedGames/v1/?key="+s+"&steamid="+i+"&format=json",r);case 73:return U=e.sent,console.log(U.response),console.log("IPlayerService/GetSteamLevel"),e.next=78,I(a+"https://api.steampowered.com/IPlayerService/GetSteamLevel/v1/?key="+s+"&steamid="+i+"&format=json",r);case 78:return N=e.sent,console.log(N.response),v(N.response.player_level.toString()),console.log(f),console.log("IPlayerService/GetCommunityBadgeProgress"),e.next=85,I(a+"https://api.steampowered.com/IPlayerService/GetCommunityBadgeProgress/v1/?key="+s+"&steamid="+i+"&format=json",r);case 85:return C=e.sent,console.log(C.response),console.log("ISteamUser/GetFriendList"),e.next=90,I(a+"https://api.steampowered.com/ISteamUser/GetFriendList/v1/?key="+s+"&steamid="+i+",&format=json",r);case 90:return E=e.sent,console.log(E),console.log("ISteamUser/GetPlayerBans"),e.next=95,I(a+"https://api.steampowered.com/ISteamUser/GetPlayerBans/v1/?key="+s+"&steamids="+i+"&format=json",r);case 95:return A=e.sent,console.log(A.players[0]),console.log("ISteamUser/GetPlayerSummaries"),e.next=100,I(a+"https://api.steampowered.com/ISteamUser/GetPlayerSummaries/v2/?key="+s+"&steamids="+i+"&format=json",r);case 100:return w=e.sent,console.log(w.response.players[0]),l(w.response.players[0]),console.log(o.personastate),console.log("ISteamUser/GetUserGroupList"),e.next=107,I(a+"https://api.steampowered.com/ISteamUser/GetUserGroupList/v1/?key="+s+"&steamid="+i+"&format=json",r);case 107:L=e.sent,console.log(L.response),e.next=112;break;case 111:!i&&d?console.log("\tONLY appid searched"):console.log("\tNO item searched");case 112:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function k(e,t){var a=document.createElement("div");a.className="row";var s=document.createElement("div"),r=document.createElement("h2"),n=document.createElement("p");s.className="p-2 app-title border border-warning",r.innerText=e,r.className="text-light text-center",n.innerText=t+" current active players",n.className="text-light text-center",s.appendChild(r),s.appendChild(n),a.appendChild(s),document.getElementById("user-app-content").appendChild(a)}function G(e,t,a){var s=document.createElement("div");s.className="row";var r=document.createElement("div");r.className="d-flex flex-wrap",console.log(e),console.log(t),console.log(a);for(var n=0;n<a.length;n++){var o=document.createElement("div");o.className="border border-warning";var c=document.createElement("img");c.className="mx-auto",c.src=a[n].icon,c.alt=a[n].name;var l=document.createElement("h3");l.className="text-light text-center",l.innerText=a[n].displayName;var i=document.createElement("p");i.className="text-light text-center",i.innerText=a[n].description?a[n].description:"No description provided",o.appendChild(c),o.appendChild(l),o.appendChild(i),r.appendChild(o)}s.appendChild(r),document.getElementById("user-app-content").appendChild(s)}function I(e,t){return P.apply(this,arguments)}function P(){return(P=Object(d.a)(m.a.mark((function e(t,a){var s,r;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch(t,a);case 2:return 403===(s=e.sent).status?console.error("User profile is likely set to private."):s.ok||console.error("Oops! Something went wrong when getting API. Usually the case if a user input is not good. Error code "+s.status),e.next=6,s.json();case 6:return r=e.sent,e.abrupt("return",r);case 8:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return Object(s.useEffect)((function(){!function(e){N.apply(this,arguments)}()}),[a]),Object(s.useEffect)((function(){switch(o.personastate){case 0:b("Offline");break;case 1:b("Online");break;case 2:b("Busy");break;case 3:b("Away");break;case 4:b("Snooze");break;case 5:b("Looking to Trade");break;case 6:b("Looking to Play");break;default:b("Private")}console.log(j);var e=new Date(1e3*o.lastlogoff),t=e.getFullYear(),a=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"][e.getMonth()],s=e.getDate(),r=e.getHours(),n="0"+e.getMinutes();w(a+"/"+s+"/"+t+"~"+r+":"+n.substr(-2)),console.log(o.lastlogoff)}),[o]),Object(u.jsxs)("div",{children:[o&&Object(u.jsx)("div",{className:"row",children:Object(u.jsxs)("div",{className:"col-xs-12 col-md-12",children:[Object(u.jsx)("div",{className:"row ",children:Object(u.jsx)("div",{className:"user-info col-xs-8 col-md-8 d-flex justify-content-center",children:Object(u.jsxs)("div",{className:"profile-info yellow-neon-border",children:[Object(u.jsx)("div",{className:"d-flex justify-content-center",children:Object(u.jsx)("img",{id:"profile-image",src:o.avatarfull,height:"100px",width:"100px",alt:"Avatar"})}),Object(u.jsxs)("p",{className:"profile-text",children:[Object(u.jsxs)("span",{id:"profile-display-name",children:[o.personaname," | "]}),Object(u.jsxs)("span",{id:"profile-country",children:[o.loccountrycode," | "]}),Object(u.jsx)("span",{id:"profile-status",children:j}),Object(u.jsx)("br",{}),Object(u.jsxs)("span",{id:"profile-level",children:["Level ",f]})," |",Object(u.jsxs)("span",{id:"profile-steamid",children:["Steam ID ",o.steamid]})," |",Object(u.jsxs)("span",{id:"profile-steamid",children:["Last Time Online ",O]})]})]})})}),Object(u.jsx)("div",{className:"row",children:Object(u.jsx)("div",{id:"user-app-content",className:"user-info col-xs-8 col-md-8 d-flex justify-content-center"})})]})}),Object(u.jsx)(p.a,{to:"/"})]})};var j=function(){function e(){var e=Object(s.useState)(""),t=Object(c.a)(e,2),a=t[0],r=t[1],n=Object(s.useState)(""),o=Object(c.a)(n,2),i=o[0],m=o[1],d=Object(s.useState)(!0),p=Object(c.a)(d,2),j=p[0],b=p[1],g=Object(s.useState)(0),x=Object(c.a)(g,2),f=x[0],v=x[1];Object(s.useEffect)((function(){console.log("Searched name: "+a+". Searched app: "+i)}));var y=Object(u.jsx)("div",{className:"row",children:Object(u.jsxs)("div",{className:"body col-12",children:[Object(u.jsx)("form",{onSubmit:O,children:Object(u.jsxs)("div",{className:"form-group row",children:[Object(u.jsxs)("div",{className:"col-sm-5",children:[Object(u.jsx)("label",{className:"blue-glow",htmlFor:"username",children:"Steam ID"}),Object(u.jsx)("input",{type:"text",className:"form-control dark-bg",id:"username","aria-describedby":"username-help",placeholder:"Enter a Steam ID",name:"username",value:a,onChange:function(e){return r(e.target.value)}})]}),Object(u.jsxs)("div",{className:"col-sm-5",children:[Object(u.jsx)("label",{className:"green-glow",htmlFor:"game",children:"Steam Game"}),Object(u.jsx)("input",{type:"text",className:"form-control",id:"game","aria-describedby":"game-help",placeholder:"Enter a Steam Game",name:"game",value:i,onChange:function(e){return m(e.target.value)}})]}),Object(u.jsx)("div",{className:"col-sm-2 mt-4",children:Object(u.jsx)("button",{type:"submit",id:"entry-submit",className:"btn btn-primary bg-dark",onClick:function(e){v(f+1)},children:"Search!"})})]})}),Object(u.jsx)("br",{}),Object(u.jsx)(l.a,{children:Object(u.jsx)(h,{usernameSearch:a,searchClick:f})})]})}),S=j?Object(u.jsx)("div",{className:"row",children:Object(u.jsx)("div",{className:"body col-xs-12 col-md-12",children:Object(u.jsx)("div",{className:"form-body",children:Object(u.jsxs)("form",{id:"entry-form",onSubmit:O,children:[Object(u.jsxs)("div",{className:"form-group",children:[Object(u.jsx)("label",{htmlFor:"username",children:"Steam ID"}),Object(u.jsx)("label",{className:"blue-glow",htmlFor:"username",children:"Steam ID"}),Object(u.jsx)("input",{type:"text",className:"form-control dark-bg",id:"username","aria-describedby":"username-help",placeholder:"Enter a Steam ID",name:"username",value:a,onChange:function(e){return r(e.target.value)},required:!0}),Object(u.jsx)("small",{id:"username-help",className:"form-text",children:"Enter a Steam 'vanity' URL of a user."})]}),Object(u.jsxs)("div",{className:"form-group",children:[Object(u.jsx)("label",{htmlFor:"game",children:"Steam Game"}),Object(u.jsx)("input",{type:"text",className:"form-control",id:"game","aria-describedby":"game-help",placeholder:"Enter a Steam Game",name:"game",value:i,onChange:function(e){return m(e.target.value)}}),Object(u.jsx)("small",{id:"game-help",className:"form-text",children:"Enter a game or app that is available on Steam."})]}),Object(u.jsx)("button",{type:"submit",id:"entry-submit",className:"btn btn-primary",children:"Search!"})]})})})}):y;function O(e){if(console.log("BUTTON PRESS: Searched name: "+a+". Searched app: "+i),e.preventDefault(),i||a){if(console.log("there is a search present"),!j)return console.log("stats window already open, calling grabData() manually."),b(!1),S;b(!1)}else console.log("there is not a search present"),b(!0)}return S}return Object(u.jsx)("div",{className:"App",children:Object(u.jsxs)("div",{className:"container-fluid",children:[Object(u.jsx)("div",{className:"row",children:Object(u.jsx)("div",{className:"header col-xs-12 col-md-12",children:Object(u.jsx)("h1",{children:"Title"})})}),Object(u.jsx)(e,{}),Object(u.jsx)("div",{className:"row",children:Object(u.jsxs)("div",{className:"footer col-xs-12 col-md-12 bg-dark",children:[Object(u.jsx)("hr",{}),Object(u.jsxs)("p",{className:"footer-links",children:[Object(u.jsx)("a",{href:"https://steamdb.info/calculator/",children:"SteamDB"})," |\xa0",Object(u.jsx)("a",{href:"https://store.steampowered.com/",children:"Steam Store"})," |\xa0",Object(u.jsx)("a",{href:"https://partner.steamgames.com/doc/webapi_overview",children:"Steam Web API Documentation"})," |\xa0",Object(u.jsx)("a",{href:"https://steamapi.xpaw.me/",children:"xPaw's Steam Web API Documentation"})]}),Object(u.jsx)("p",{className:"footer-authors font-weight-light",children:"Created by Arturo Bravo, Courtney Ficker, Max Oakes"}),Object(u.jsx)("p",{className:"footer-legal text-muted ",children:"Steam and the Steam logo are trademarks of Valve Corporation. All other trademarks are property of their respective owners. This deployment was created under fair use."})]})})]})})};o.a.render(Object(u.jsx)(r.a.StrictMode,{children:Object(u.jsx)(j,{})}),document.getElementById("root"))}},[[33,1,2]]]);
//# sourceMappingURL=main.7c619533.chunk.js.map