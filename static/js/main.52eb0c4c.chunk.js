(this.webpackJsonpsteamcompare=this.webpackJsonpsteamcompare||[]).push([[0],{24:function(e,t,a){},33:function(e,t,a){"use strict";a.r(t);var s=a(1),r=a.n(s),n=a(18),o=a.n(n),c=a(7),l=(a(24),a(25),a(13)),i=a(10),m=a.n(i),d=a(14),p=a(2),h=a(0),u=function(e){var t=e.usernameSearch,a=e.searchClick;console.log("SEARCH:",t);var r=Object(s.useState)(""),n=Object(c.a)(r,2),o=n[0],l=n[1],i=Object(s.useState)(""),u=Object(c.a)(i,2),j=u[0],b=u[1],g=Object(s.useState)(""),x=Object(c.a)(g,2),v=x[0],f=x[1],S=Object(s.useState)(""),y=Object(c.a)(S,2),O=y[0],w=y[1],N="https://still-tor-77449.herokuapp.com/";function k(){return(k=Object(d.a)(m.a.mark((function e(t){var a,s,r,n,c,i,d,p,h,u,j,b,g,x,S,y,O,w,k,C,E,P,L;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a="386540A52F687754D4E1767230822EDE",s={mode:"cors",cache:"no-cache",credentials:"same-origin",headers:{"Content-Type":"application/json"},redirect:"follow",referrerPolicy:"no-referrer"},r=document.getElementById("game").value,n=document.getElementById("username").value,c=0,i=0,!n){e.next=14;break}return console.log("ISteamUser/ResolveVanityURL"),e.next=10,U(N+"https://api.steampowered.com/ISteamUser/ResolveVanityURL/v1/?key="+a+"&vanityurl="+n+"&format=json",s);case 10:d=e.sent,console.log(d.response),c=d.response.steamid,console.log("Found user "+c+" from "+n);case 14:if(!r){e.next=21;break}return console.log("ISteamApps/GetAppList"),e.next=18,U(N+"http://api.steampowered.com/ISteamApps/GetAppList/v0002/",s);case 18:h=e.sent,(u=h.applist.apps.find((function(e){return e.name.toLowerCase()===r.toLowerCase()})))?(console.log(u),p=u.name,console.log("Found game "+u.appid+" from "+r),i=u.appid):console.log("No game found with: "+r);case 21:if(j=document.getElementById("user-app-content"))for(;j.firstChild;)j.removeChild(j.firstChild);if(!c||!i){e.next=63;break}return console.log("\tappid AND steamid searched"),console.log("ISteamUserStats/GetPlayerAchievements"),e.next=28,U(N+"https://api.steampowered.com/ISteamUserStats/GetPlayerAchievements/v1/?key="+a+"&steamid="+c+"&appid="+i+"&format=json",s);case 28:return b=e.sent,console.log(b),console.log("ISteamUserStats/GetGlobalAchievementPercentagesForApp"),e.next=33,U(N+"https://api.steampowered.com/ISteamUserStats/GetGlobalAchievementPercentagesForApp/v2/?key="+a+"&gameid="+i+"&format=json",s);case 33:return g=e.sent,console.log(g),console.log("ISteamUserStats/GetNumberOfCurrentPlayers"),e.next=38,U(N+"https://api.steampowered.com/ISteamUserStats/GetNumberOfCurrentPlayers/v1/?key="+a+"&appid="+i+"&format=json",s);case 38:return x=e.sent,console.log(x),console.log("ISteamUserStats/GetSchemaForGame"),e.next=43,U(N+"https://api.steampowered.com/ISteamUserStats/GetSchemaForGame/v2/?key="+a+"&appid="+i+"&format=json",s);case 43:return S=e.sent,console.log(S.game),console.log("ISteamUserStats/GetUserStatsForGame"),e.next=48,U(N+"https://api.steampowered.com/ISteamUserStats/GetUserStatsForGame/v2/?key="+a+"&appid="+i+"&steamid="+c+"&format=json",s);case 48:return e.sent,console.log("ISteamUser/GetPlayerSummaries"),e.next=52,U(N+"https://api.steampowered.com/ISteamUser/GetPlayerSummaries/v2/?key="+a+"&steamids="+c+"&format=json",s);case 52:return y=e.sent,console.log("IPlayerService/GetSteamLevel"),e.next=56,U(N+"https://api.steampowered.com/IPlayerService/GetSteamLevel/v1/?key="+a+"&steamid="+c+"&format=json",s);case 56:O=e.sent,l(y.response.players[0]),f(O.response.player_level.toString()),G(p,x.response.player_count,b.playerstats.achievements,i);try{S.game.availableGameStats.achievements&&I(b.playerstats.achievements,g.achievementpercentages.achievements,S.game.availableGameStats.achievements)}catch(t){console.error("Something in gameSchemaResponse.game.availableGameStats is undefined")}e.next=112;break;case 63:if(!c||i){e.next=111;break}return console.log("\tONLY steamid searched"),console.log("IPlayerService/GetOwnedGames"),e.next=68,U(N+"https://api.steampowered.com/IPlayerService/GetOwnedGames/v1/?key="+a+"&steamid="+c+"&format=json&include_appinfo=1",s);case 68:return w=e.sent,console.log(w.response),console.log("IPlayerService/GetRecentlyPlayedGames"),e.next=73,U(N+"https://api.steampowered.com/IPlayerService/GetRecentlyPlayedGames/v1/?key="+a+"&steamid="+c+"&format=json",s);case 73:return k=e.sent,console.log(k.response),console.log("IPlayerService/GetSteamLevel"),e.next=78,U(N+"https://api.steampowered.com/IPlayerService/GetSteamLevel/v1/?key="+a+"&steamid="+c+"&format=json",s);case 78:return O=e.sent,console.log(O.response),f(O.response.player_level.toString()),console.log(v),console.log("IPlayerService/GetCommunityBadgeProgress"),e.next=85,U(N+"https://api.steampowered.com/IPlayerService/GetCommunityBadgeProgress/v1/?key="+a+"&steamid="+c+"&format=json",s);case 85:return C=e.sent,console.log(C.response),console.log("ISteamUser/GetFriendList"),e.next=90,U(N+"https://api.steampowered.com/ISteamUser/GetFriendList/v1/?key="+a+"&steamid="+c+",&format=json",s);case 90:return E=e.sent,console.log(E),console.log("ISteamUser/GetPlayerBans"),e.next=95,U(N+"https://api.steampowered.com/ISteamUser/GetPlayerBans/v1/?key="+a+"&steamids="+c+"&format=json",s);case 95:return P=e.sent,console.log(P.players[0]),console.log("ISteamUser/GetPlayerSummaries"),e.next=100,U(N+"https://api.steampowered.com/ISteamUser/GetPlayerSummaries/v2/?key="+a+"&steamids="+c+"&format=json",s);case 100:return y=e.sent,console.log(y.response.players[0]),l(y.response.players[0]),console.log(o.personastate),console.log("ISteamUser/GetUserGroupList"),e.next=107,U(N+"https://api.steampowered.com/ISteamUser/GetUserGroupList/v1/?key="+a+"&steamid="+c+"&format=json",s);case 107:L=e.sent,console.log(L.response),e.next=112;break;case 111:!c&&i?console.log("\tONLY appid searched"):console.log("\tNO item searched");case 112:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function G(e,t,a,s){var r=document.createElement("div");r.className="row game-banner";var n=document.createElement("div");n.className="col-xs-12 col-md-8 game-banner-title m-0 p-0";var o="https://steamcdn-a.akamaihd.net/steam/apps/"+s+"/page_bg_generated.jpg";fetch(N+o).then((function(e){return e.ok?(console.log("Found good image for title background"),e):404===e.status?Promise.reject("error 404"):Promise.reject("some other error: "+e.status)})).catch((function(e){console.log("Error getting high-quality game image, using default, low-res header img instead"),o="https://steamcdn-a.akamaihd.net/steam/apps/"+s+"/header.jpg"})).finally((function(){n.style.backgroundImage="url("+o+")"})),r.appendChild(n);var c=document.createElement("h2");c.innerText=e,c.className="text-light text-left align-middle",c.style.lineHeight="75px",n.appendChild(c);var l=document.createElement("div");l.className="col-xs-12 col-md-4 game-banner-info",r.appendChild(l);var i=document.createElement("p");i.innerText=t+" players online",i.className="text-light game-banner-info-playercount",l.appendChild(i);var m=document.createElement("p");if(a){for(var d=0,p=0;p<a.length;p++)a[p].achieved&&d++;m.innerText=d+" out of "+a.length+" achievements obtained"}else m.innerText=e+" does not have achievements";m.className="text-light text-center game-banner-info-achievement",l.appendChild(m),document.getElementById("user-app-content").appendChild(r)}function I(e,t,a){var s=document.createElement("div");s.className="row col-xs-12";var r=document.createElement("div");r.className="achievement-grid d-flex flex-row flex-wrap d-flex justify-content-between",console.log(e),console.log(t),console.log(a);for(var n=0;n<a.length;n++){var o=document.createElement("div");o.className="achievement-square flex-fill col-xs-12 col-sm-6 col-md-4 col-lg-3";var c=document.createElement("img");c.className="achievement-icon mx-auto",c.width=75,c.height=75,c.src=a[n].icon,c.alt=a[n].name,o.appendChild(c);var l=document.createElement("p");l.className="achievement-global-percent text-light",l.innerText=t[n].percent.toFixed(2)+"% of players have this achievement.",o.appendChild(l);var i=new Date(1e3*e[n].unlocktime),m=(i.toDateString(),i.getUTCHours().toString().padStart(2,"0"),i.getUTCMinutes().toString().padStart(2,"0"),document.createElement("p"));m.className="achievement-unlock text-light",m.innerText=e[n].achieved?"Unlocked "+C(e[n].unlocktime):"Locked",o.appendChild(m);var d=document.createElement("h3");d.className="achievement-title text-light",d.innerText=a[n].displayName,o.appendChild(d);var p=document.createElement("p");p.className="achievement-description text-light",p.innerText=a[n].description?a[n].description:"",o.appendChild(p),r.appendChild(o)}s.appendChild(r),document.getElementById("user-app-content").appendChild(s)}function C(e){var t=new Date(1e3*e);return t.toDateString()+" at "+t.getUTCHours().toString().padStart(2,"0")+":"+t.getUTCMinutes().toString().padStart(2,"0")+" UTC"}function U(e,t){return E.apply(this,arguments)}function E(){return(E=Object(d.a)(m.a.mark((function e(t,a){var s,r;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch(t,a);case 2:return(s=e.sent).ok||console.error("There was an error: "+s.status),e.next=6,s.json();case 6:return r=e.sent,e.abrupt("return",r);case 8:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return Object(s.useEffect)((function(){!function(e){k.apply(this,arguments)}()}),[a]),Object(s.useEffect)((function(){switch(o.personastate){case 0:b("Offline");break;case 1:b("Online");break;case 2:b("Busy");break;case 3:b("Away");break;case 4:b("Snooze");break;case 5:b("Looking to Trade");break;case 6:b("Looking to Play");break;default:b("Private")}console.log(j),w(C(o.lastlogoff))}),[o]),Object(h.jsxs)("div",{children:[o&&Object(h.jsx)("div",{className:"row",children:Object(h.jsxs)("div",{className:"col-xs-12 col-md-12",children:[Object(h.jsx)("div",{className:"row ",children:Object(h.jsx)("div",{className:"user-info col-xs-8 col-md-8 d-flex justify-content-center",children:Object(h.jsxs)("div",{className:"profile-info yellow-neon-border",children:[Object(h.jsx)("div",{className:"d-flex justify-content-center",children:Object(h.jsx)("img",{id:"profile-image",src:o.avatarfull,height:"100px",width:"100px",alt:"Avatar"})}),Object(h.jsxs)("p",{className:"profile-text",children:[Object(h.jsxs)("span",{id:"profile-display-name",children:[o.personaname," | "]}),Object(h.jsxs)("span",{id:"profile-country",children:[o.loccountrycode," | "]}),Object(h.jsx)("span",{id:"profile-status",children:j}),Object(h.jsx)("br",{}),Object(h.jsxs)("span",{id:"profile-level",children:["Level ",v]})," |",Object(h.jsxs)("span",{id:"profile-steamid",children:["Steam ID ",o.steamid]})," |",Object(h.jsxs)("span",{id:"profile-steamid",children:["Last Time Online ",O]})]})]})})}),Object(h.jsx)("div",{id:"user-app-content",className:"row justify-content-center"})]})}),Object(h.jsx)(p.a,{to:"/"}),Object(h.jsx)("br",{}),Object(h.jsx)("br",{}),Object(h.jsx)("br",{}),Object(h.jsx)("br",{}),Object(h.jsx)("br",{}),Object(h.jsx)("br",{}),Object(h.jsx)("br",{}),Object(h.jsx)("br",{}),Object(h.jsx)("br",{}),Object(h.jsx)("br",{}),Object(h.jsx)("br",{})]})};var j=function(){function e(){var e=Object(s.useState)(""),t=Object(c.a)(e,2),a=t[0],r=t[1],n=Object(s.useState)(""),o=Object(c.a)(n,2),i=o[0],m=o[1],d=Object(s.useState)(!0),p=Object(c.a)(d,2),j=p[0],b=p[1],g=Object(s.useState)(0),x=Object(c.a)(g,2),v=x[0],f=x[1];Object(s.useEffect)((function(){console.log("Searched name: "+a+". Searched app: "+i)}));var S=Object(h.jsx)("div",{className:"row",children:Object(h.jsxs)("div",{className:"body col-12",children:[Object(h.jsx)("form",{onSubmit:O,children:Object(h.jsxs)("div",{className:"form-group row",children:[Object(h.jsxs)("div",{className:"col-sm-5",children:[Object(h.jsx)("label",{className:"blue-glow",htmlFor:"username",children:"Steam ID"}),Object(h.jsx)("input",{type:"text",className:"form-control dark-bg",id:"username","aria-describedby":"username-help",placeholder:"Enter a Steam ID",name:"username",value:a,onChange:function(e){return r(e.target.value)}})]}),Object(h.jsxs)("div",{className:"col-sm-5",children:[Object(h.jsx)("label",{className:"green-glow",htmlFor:"game",children:"Steam Game"}),Object(h.jsx)("input",{type:"text",className:"form-control",id:"game","aria-describedby":"game-help",placeholder:"Enter a Steam Game",name:"game",value:i,onChange:function(e){return m(e.target.value)}})]}),Object(h.jsx)("div",{className:"col-sm-2 mt-4",children:Object(h.jsx)("button",{type:"submit",id:"entry-submit",className:"btn btn-primary bg-dark",onClick:function(e){f(v+1)},children:"Search!"})})]})}),Object(h.jsx)("br",{}),Object(h.jsx)(l.a,{children:Object(h.jsx)(u,{usernameSearch:a,searchClick:v})})]})}),y=j?Object(h.jsx)("div",{className:"row",children:Object(h.jsx)("div",{className:"body col-xs-12 col-md-12",children:Object(h.jsx)("div",{className:"form-body",children:Object(h.jsxs)("form",{id:"entry-form",onSubmit:O,children:[Object(h.jsxs)("div",{className:"form-group",children:[Object(h.jsx)("label",{htmlFor:"username",children:"Steam ID"}),Object(h.jsx)("label",{className:"blue-glow",htmlFor:"username",children:"Steam ID"}),Object(h.jsx)("input",{type:"text",className:"form-control dark-bg",id:"username","aria-describedby":"username-help",placeholder:"Enter a Steam ID",name:"username",value:a,onChange:function(e){return r(e.target.value)},required:!0}),Object(h.jsx)("small",{id:"username-help",className:"form-text",children:"Enter a Steam 'vanity' URL of a user."})]}),Object(h.jsxs)("div",{className:"form-group",children:[Object(h.jsx)("label",{htmlFor:"game",children:"Steam Game"}),Object(h.jsx)("input",{type:"text",className:"form-control",id:"game","aria-describedby":"game-help",placeholder:"Enter a Steam Game",name:"game",value:i,onChange:function(e){return m(e.target.value)}}),Object(h.jsx)("small",{id:"game-help",className:"form-text",children:"Enter a game or app that is available on Steam."})]}),Object(h.jsx)("button",{type:"submit",id:"entry-submit",className:"btn btn-primary",children:"Search!"})]})})})}):S;function O(e){if(console.log("BUTTON PRESS: Searched name: "+a+". Searched app: "+i),e.preventDefault(),i||a){if(console.log("there is a search present"),!j)return console.log("stats window already open, calling grabData() manually."),b(!1),y;b(!1)}else console.log("there is not a search present"),b(!0)}return y}return Object(h.jsx)("div",{className:"App",children:Object(h.jsxs)("div",{className:"container-fluid",children:[Object(h.jsx)("div",{className:"row",children:Object(h.jsx)("div",{className:"header col-xs-12 col-md-12",children:Object(h.jsx)("h1",{children:"Title"})})}),Object(h.jsx)(e,{}),Object(h.jsx)("div",{className:"row",children:Object(h.jsxs)("div",{className:"footer col-xs-12 col-md-12 bg-dark",children:[Object(h.jsx)("hr",{}),Object(h.jsxs)("p",{className:"footer-links",children:[Object(h.jsx)("a",{href:"https://steamdb.info/calculator/",children:"SteamDB"})," |\xa0",Object(h.jsx)("a",{href:"https://store.steampowered.com/",children:"Steam Store"})," |\xa0",Object(h.jsx)("a",{href:"https://partner.steamgames.com/doc/webapi_overview",children:"Steam Web API Documentation"})," |\xa0",Object(h.jsx)("a",{href:"https://steamapi.xpaw.me/",children:"xPaw's Steam Web API Documentation"})]}),Object(h.jsx)("p",{className:"footer-authors font-weight-light",children:"Created by Arturo Bravo, Courtney Ficker, Max Oakes"}),Object(h.jsx)("p",{className:"footer-legal text-muted ",children:"Steam and the Steam logo are trademarks of Valve Corporation. All other trademarks are property of their respective owners. This deployment was created under fair use."})]})})]})})};o.a.render(Object(h.jsx)(r.a.StrictMode,{children:Object(h.jsx)(j,{})}),document.getElementById("root"))}},[[33,1,2]]]);
//# sourceMappingURL=main.52eb0c4c.chunk.js.map