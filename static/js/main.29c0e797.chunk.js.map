{"version":3,"sources":["main.js","App.js","index.js"],"names":["Main","usernameSearch","searchClick","console","log","useState","playerinfo","setPlayer","onlineTest","setOnline","steamLevel","setLevel","timeLogOff","setTime","event","a","proxy","key","headers","mode","cache","credentials","redirect","referrerPolicy","appName","document","getElementById","value","vanityURL","steamid","appid","fetchJSON","steamidResponse","response","appListResponse","appObject","applist","apps","find","app","name","toLowerCase","playerAchievementsResponse","playerstats","globalAchievementPercentagesResponse","achievementpercentages","numCurrentPlayersResponse","gameSchemaResponse","game","availableGameStats","stats","userStatsForGameResponse","playerSummeryResponse","players","steamLevelResponse","player_level","toString","ownedGamesResponse","recentlyPlayedGamesResponse","communityBadgeProgressResponse","friendsListResponse","playerBansResponse","personastate","groupListResponse","apiURL","fetch","status","error","ok","json","data","useEffect","grabData","time","Date","lastlogoff","year","getFullYear","month","getMonth","date","getDate","hours","getHours","min","getMinutes","substr","className","id","src","avatarfull","height","width","alt","personaname","loccountrycode","to","App","BodyHTML","setUsernameSearch","appSearch","setAppSearch","isMainMenuSearch","setIsMainMenuSearch","setClick","searchMenuWithStatsHTML","onSubmit","handleSubmit","htmlFor","type","aria-describedby","placeholder","onChange","e","target","onClick","bodyHTML","required","preventDefault","href","ReactDOM","render","StrictMode"],"mappings":"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","file":"static/js/main.29c0e797.chunk.js","sourcesContent":["\r\nimport {Redirect} from 'react-router-dom';\r\nimport {useEffect, useState} from \"react\";\r\nconst Main = ({usernameSearch, searchClick}) => {\r\n  console.log(\"SEARCH:\", usernameSearch)\r\n  //THIS COULD HELP US ^^^^\r\n  const [playerinfo, setPlayer] = useState(\"\");\r\n  const [onlineTest, setOnline] = useState(\"\");\r\n  const [steamLevel, setLevel] = useState(\"\");\r\n  const [timeLogOff, setTime] = useState(\"\");\r\nasync function grabData (event)\r\n{\r\n    //event.preventDefault();\r\n    // TODO this works as a proxy website for CORS to allow the api to get fetched.\r\n    //Perhaps there is a more elegent way to do this\r\n    const proxy = \"https://still-tor-77449.herokuapp.com/\"\r\n\r\n    //Max's api steam key. Use it for this project\r\n    const key = \"386540A52F687754D4E1767230822EDE\";\r\n    const headers =\r\n    {\r\n        mode: 'cors',\r\n        cache: 'no-cache',\r\n        credentials: 'same-origin',\r\n        headers: {'Content-Type': 'application/json'},\r\n        redirect: 'follow',\r\n        referrerPolicy: 'no-referrer',\r\n    };\r\n\r\n    //get the form seach boxes\r\n    var appName = document.getElementById(\"game\").value;\r\n    var vanityURL = document.getElementById(\"username\").value;\r\n    var steamid = 0;\r\n    var appid = 0;\r\n\r\n    //check if the user entered a username to search for\r\n    if (vanityURL)\r\n    {\r\n      //get a steamid from a 'vanity' url. This is the one for your steam profile\r\n      //Max's is https://steamcommunity.com/id/scouteriv/\r\n      //there might be additional ways to get a steamid\r\n      console.log(\"ISteamUser/ResolveVanityURL\")\r\n      var steamidResponse = await fetchJSON(proxy + \r\n        'https://api.steampowered.com/ISteamUser/ResolveVanityURL/v1/?key=' + \r\n        key + '&vanityurl=' + vanityURL + '&format=json', headers)\r\n      console.log(steamidResponse.response)\r\n      steamid = steamidResponse.response.steamid;\r\n      console.log(\"Found user \" + steamid + \" from \" + vanityURL)\r\n    }\r\n\r\n    if (appName)\r\n    {\r\n      //get the appid from the game name that the user enters\r\n      //this requests takes a few seconds. Likely(?) no way to get around it if we are not making a backend\r\n      console.log(\"ISteamApps/GetAppList\")\r\n      var appListResponse = await fetchJSON(proxy + \r\n        'http://api.steampowered.com/ISteamApps/GetAppList/v0002/', headers)\r\n      //console.log(appListResponse.applist.apps)\r\n\r\n      //go through each game and see if the name of the game matches what the user entered\r\n      var appObject = appListResponse.applist.apps.find(app => app.name.toLowerCase() === appName.toLowerCase());\r\n      \r\n      //set the appid only if the game is found\r\n      if (appObject)\r\n      {\r\n        console.log(appObject)\r\n        console.log(\"Found game \" + appObject.appid + \" from \" + appName)\r\n        appid = appObject.appid;\r\n      }\r\n    }\r\n\r\n    //if both a user and game is searched and valid\r\n    if (steamid && appid)\r\n    {\r\n      console.log(\"\\tappid AND steamid searched\")\r\n\r\n      console.log(\"ISteamUserStats/GetPlayerAchievements\")\r\n      var playerAchievementsResponse = await fetchJSON(proxy +\r\n        'https://api.steampowered.com/ISteamUserStats/GetPlayerAchievements/v1/?key=' + \r\n        key + '&steamid=' + steamid + '&appid=' + appid + '&format=json', headers)\r\n      console.log(playerAchievementsResponse.playerstats);\r\n\r\n      //global stats\r\n      console.log(\"ISteamUserStats/GetGlobalAchievementPercentagesForApp\")\r\n      var globalAchievementPercentagesResponse = await fetchJSON(proxy +\r\n        'https://api.steampowered.com/ISteamUserStats/GetGlobalAchievementPercentagesForApp/v2/?key=' + \r\n        key + '&gameid=' + appid + '&format=json', headers)\r\n      console.log(globalAchievementPercentagesResponse.achievementpercentages);\r\n\r\n      console.log(\"ISteamUserStats/GetNumberOfCurrentPlayers\")\r\n      var numCurrentPlayersResponse = await fetchJSON(proxy +\r\n        'https://api.steampowered.com/ISteamUserStats/GetNumberOfCurrentPlayers/v1/?key=' + \r\n        key + '&appid=' + appid + '&format=json', headers)\r\n      console.log(numCurrentPlayersResponse.response);\r\n\r\n      console.log(\"ISteamUserStats/GetSchemaForGame\")\r\n      var gameSchemaResponse = await fetchJSON(proxy +\r\n        'https://api.steampowered.com/ISteamUserStats/GetSchemaForGame/v2/?key=' + \r\n        key + '&appid=' + appid + '&format=json', headers)\r\n      console.log(gameSchemaResponse.game);\r\n      var gameStats = gameSchemaResponse.game.availableGameStats.stats;\r\n\r\n      //the inputs to this one must come from the previous API call\r\n      //not a lot of games implement this. not sure if we want to call it\r\n      // console.log(\"ISteamUserStats/GetSchemaForGame\")\r\n      // var globalGameStatsResponse = await fetchJSON(proxy +\r\n      //   'https://api.steampowered.com/ISteamUserStats/GetGlobalStatsForGame/v1/?key=' + \r\n      //   key + '&appid=' + appid + '&count=' + gameStats.length + '&name[0]=' + gameStats[0].name + '&format=json', headers)\r\n      // console.log(globalGameStatsResponse);\r\n\r\n      console.log(\"ISteamUserStats/GetUserStatsForGame\")\r\n      var userStatsForGameResponse = await fetchJSON(proxy +\r\n        'https://api.steampowered.com/ISteamUserStats/GetUserStatsForGame/v2/?key=' + \r\n        key + '&appid=' + appid + '&steamid=' + steamid + '&format=json', headers)\r\n      //userStatsForGameResponse.playerstats yields stats and acheivements, but achievements was retrieved earlier\r\n      console.log(userStatsForGameResponse.playerstats.stats);\r\n\r\n      console.log(\"ISteamUser/GetPlayerSummaries\")\r\n      var playerSummeryResponse = await fetchJSON(proxy + \r\n        'https://api.steampowered.com/ISteamUser/GetPlayerSummaries/v2/?key=' + \r\n        key + '&steamids=' + steamid + '&format=json', headers)\r\n      console.log(playerSummeryResponse.response.players[0])\r\n      setPlayer(playerSummeryResponse.response.players[0]);\r\n\r\n      console.log(\"IPlayerService/GetSteamLevel\")\r\n      var steamLevelResponse = await fetchJSON(proxy + \r\n        'https://api.steampowered.com/IPlayerService/GetSteamLevel/v1/?key=' + \r\n        key + '&steamid=' + steamid + '&format=json', headers)\r\n      console.log(steamLevelResponse.response)\r\n      setLevel(steamLevelResponse.response.player_level.toString());\r\n    }\r\n    //if only the username is valid\r\n    else if (steamid && !appid)\r\n    {\r\n      console.log(\"\\tONLY steamid searched\")\r\n\r\n      console.log(\"IPlayerService/GetOwnedGames\")\r\n      var ownedGamesResponse = await fetchJSON(proxy + \r\n        'https://api.steampowered.com/IPlayerService/GetOwnedGames/v1/?key=' + \r\n        key + '&steamid=' + steamid + '&format=json&include_appinfo=1', headers)\r\n      console.log(ownedGamesResponse.response)\r\n\r\n      console.log(\"IPlayerService/GetRecentlyPlayedGames\")\r\n      var recentlyPlayedGamesResponse = await fetchJSON(proxy + \r\n        'https://api.steampowered.com/IPlayerService/GetRecentlyPlayedGames/v1/?key=' + \r\n        key + '&steamid=' + steamid + '&format=json', headers)\r\n      console.log(recentlyPlayedGamesResponse.response)\r\n\r\n      console.log(\"IPlayerService/GetSteamLevel\")\r\n      var steamLevelResponse = await fetchJSON(proxy + \r\n        'https://api.steampowered.com/IPlayerService/GetSteamLevel/v1/?key=' + \r\n        key + '&steamid=' + steamid + '&format=json', headers)\r\n      console.log(steamLevelResponse.response)\r\n      setLevel(steamLevelResponse.response.player_level.toString());\r\n      console.log(steamLevel);\r\n\r\n      console.log(\"IPlayerService/GetCommunityBadgeProgress\")\r\n      var communityBadgeProgressResponse = await fetchJSON(proxy + \r\n        'https://api.steampowered.com/IPlayerService/GetCommunityBadgeProgress/v1/?key=' + \r\n        key + '&steamid=' + steamid + '&format=json', headers)\r\n      console.log(communityBadgeProgressResponse.response)\r\n\r\n      console.log(\"ISteamUser/GetFriendList\")\r\n      var friendsListResponse = await fetchJSON(proxy + \r\n        'https://api.steampowered.com/ISteamUser/GetFriendList/v1/?key=' + \r\n        key + '&steamid=' + steamid + ',&format=json', headers)\r\n      console.log(friendsListResponse)\r\n\r\n      console.log(\"ISteamUser/GetPlayerBans\")\r\n      var playerBansResponse = await fetchJSON(proxy + \r\n        'https://api.steampowered.com/ISteamUser/GetPlayerBans/v1/?key=' + \r\n        key + '&steamids=' + steamid + '&format=json', headers)\r\n      console.log(playerBansResponse.players[0])\r\n\r\n      console.log(\"ISteamUser/GetPlayerSummaries\")\r\n      var playerSummeryResponse = await fetchJSON(proxy + \r\n        'https://api.steampowered.com/ISteamUser/GetPlayerSummaries/v2/?key=' + \r\n        key + '&steamids=' + steamid + '&format=json', headers)\r\n      console.log(playerSummeryResponse.response.players[0])\r\n      setPlayer(playerSummeryResponse.response.players[0]);\r\n      //console.log(playerinfo.loccountrycode);\r\n      //console.log(profPic);\r\n     \r\n      console.log(playerinfo.personastate)\r\n \r\n\r\n      console.log(\"ISteamUser/GetUserGroupList\")\r\n      var groupListResponse = await fetchJSON(proxy + \r\n        'https://api.steampowered.com/ISteamUser/GetUserGroupList/v1/?key=' + \r\n        key + '&steamid=' + steamid + '&format=json', headers)\r\n      console.log(groupListResponse.response)\r\n\r\n      //global stats\r\n\r\n    }\r\n    //if only a game was searched\r\n    else if (!steamid && appid)\r\n    {\r\n      console.log(\"\\tONLY appid searched\")\r\n    }\r\n    //if nothing was searched?\r\n    else\r\n    {\r\n      console.log(\"\\tNO item searched\");\r\n    }\r\n}\r\n\r\nasync function fetchJSON(apiURL, headers)\r\n{\r\n  var response = await fetch(apiURL, headers);\r\n  if (response.status == 403)\r\n  {\r\n    console.error(\"User profile is likely set to private.\");\r\n  }\r\n  else if (!response.ok)\r\n  {\r\n    console.error(\"Oops! Something went wrong when getting API. \\\r\n    Usually the case if a user input is not good. Error code \" + response.status);\r\n  }\r\n  var data = await response.json();\r\n  return data;\r\n}\r\n\r\nuseEffect( () =>{\r\ngrabData();\r\n}\r\n, [searchClick]);\r\n\r\nuseEffect( () => {\r\n  switch(playerinfo.personastate){\r\n    case 0:\r\n      setOnline(\"Offline\")\r\n      break;\r\n    case 1:\r\n      setOnline(\"Online\")\r\n      break;\r\n    case 2:\r\n      setOnline(\"Busy\")\r\n      break;\r\n    case 3:\r\n      setOnline(\"Away\")\r\n      break;\r\n    case 4:\r\n      setOnline(\"Snooze\")\r\n      break;\r\n    case 5:\r\n      setOnline(\"Looking to Trade\")\r\n      break;\r\n    case 6:\r\n      setOnline(\"Looking to Play\")\r\n      break;\r\n    default:\r\n      setOnline(\"Private\")\r\n      break;\r\n  }\r\n  console.log(onlineTest)\r\n\r\n  //https://stackoverflow.com/questions/847185/convert-a-unix-timestamp-to-time-in-javascript\r\n  let time = new Date(playerinfo.lastlogoff * 1000);\r\n  var months = ['Jan','Feb','Mar','Apr','May','Jun','Jul','Aug','Sep','Oct','Nov','Dec'];\r\n  var year = time.getFullYear();\r\n  var month = months[time.getMonth()];\r\n  let date = time.getDate();\r\n  let hours = time.getHours();\r\n  let min = \"0\" + time.getMinutes();\r\n  setTime(month + \"/\" + date + \"/\" + year+ \"~\" + hours + ':' + min.substr(-2))\r\n  console.log(playerinfo.lastlogoff)\r\n}, [playerinfo])\r\n\r\nreturn(\r\n  <div>\r\n    {playerinfo &&\r\n    <div className=\"row\">\r\n \r\n      <div className=\"col-xs-12 col-md-12\">\r\n        \r\n        <div className=\"row \"> \r\n          <div className=\"user-info col-xs-8 col-md-8 d-flex justify-content-center\">\r\n            <div className=\"profile-info yellow-neon-border\">\r\n              <div className=\"d-flex justify-content-center\">\r\n                <img id=\"profile-image\" src={playerinfo.avatarfull} height=\"100px\" width=\"100px\" alt=\"Avatar\"></img>\r\n              </div>\r\n              <p className=\"profile-text\">\r\n                <span id=\"profile-display-name\">{playerinfo.personaname} | </span>\r\n                  <span id=\"profile-country\">{playerinfo.loccountrycode} | </span>\r\n                  <span id=\"profile-status\">{onlineTest}</span> \r\n                  <br />\r\n                  <span id=\"profile-level\">Level {steamLevel}</span> | \r\n                  <span id=\"profile-steamid\">Steam ID {playerinfo.steamid}</span> | \r\n                  <span id=\"profile-steamid\">Last Time Online {timeLogOff}</span> \r\n              </p>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n    }\r\n    <Redirect to =\"/\" />\r\n  </div>\r\n);\r\n\r\n\r\n}\r\nexport default Main","import './App.css'\r\nimport React, {useEffect, useState } from \"react\";\r\nimport 'bootstrap/dist/css/bootstrap.css'\r\nimport { BrowserRouter as Router } from \"react-router-dom\";\r\nimport Main from './main.js'\r\n\r\nfunction App()\r\n{\r\n  function BodyHTML()\r\n  {\r\n    //current states of the search bars\r\n    const [usernameSearch, setUsernameSearch] = useState(\"\");\r\n    const [appSearch, setAppSearch] = useState(\"\");\r\n    const [isMainMenuSearch, setIsMainMenuSearch] = useState(true);\r\n    const [searchClick, setClick] = useState(0);\r\n  \r\n    useEffect(() => {\r\n      console.log(\"Searched name: \" + usernameSearch + \". Searched app: \"+ appSearch);\r\n    });\r\n\r\n    //HTML of the searchbars when the window is showing user/game stats\r\n    let searchMenuWithStatsHTML = (\r\n      <div className=\"row\">\r\n        <div className=\"bg-dark body col-12\">\r\n          <form onSubmit={handleSubmit}>\r\n            <div className=\"form-group row\">\r\n              <div className=\"col-sm-5\">\r\n                <label className=\"blue-glow\" htmlFor=\"username\">Steam ID</label>\r\n                <input type=\"text\"\r\n                className=\"form-control dark-bg\"\r\n                id=\"username\"\r\n                aria-describedby=\"username-help\"\r\n                placeholder=\"Enter a Steam ID\"\r\n                name=\"username\"\r\n                value={usernameSearch}\r\n                onChange={e => setUsernameSearch(e.target.value)}\r\n                />\r\n              </div>\r\n              <div className=\"col-sm-5\">\r\n                <label className=\"green-glow\" htmlFor=\"game\">Steam Game</label>\r\n                <input type=\"text\"\r\n                className=\"form-control\"\r\n                id=\"game\"\r\n                aria-describedby=\"game-help\"\r\n                placeholder=\"Enter a Steam Game\"\r\n                name=\"game\"\r\n                value={appSearch}\r\n                onChange={e => setAppSearch(e.target.value)}\r\n                />\r\n              </div>\r\n              <div className=\"col-sm-2 mt-4\">\r\n                  <button type=\"submit\" id=\"entry-submit\" className=\"btn btn-primary bg-dark\" onClick={handleClick}>Search!</button>\r\n              </div>\r\n            </div>\r\n          </form>\r\n          <br></br>\r\n          {/* the content that is fetched form the Steam API and main.js will be created here */}\r\n          <Router>\r\n            <Main usernameSearch={usernameSearch} searchClick={searchClick}></Main>\r\n          </Router>      \r\n        </div>\r\n      </div>\r\n    );\r\n\r\n    //HTML of the searchbar when it is the initial search menu\r\n    let centeredSearchHTML = (\r\n      <div className=\"row\">\r\n        <div className=\"body col-xs-12 col-md-12\">\r\n          <div className=\"form-body\">\r\n            <form id=\"entry-form\" onSubmit={handleSubmit}>\r\n              <div className=\"form-group\">\r\n                <label htmlFor=\"username\">Steam ID</label>\r\n                <label className=\"blue-glow\" htmlFor=\"username\">Steam ID</label>\r\n                      <input type=\"text\"\r\n                      className=\"form-control dark-bg\"\r\n                      id=\"username\"\r\n                      aria-describedby=\"username-help\"\r\n                      placeholder=\"Enter a Steam ID\"\r\n                      name=\"username\"\r\n                      value={usernameSearch}\r\n                      onChange={e => setUsernameSearch(e.target.value)}\r\n                      required/>\r\n                <small id=\"username-help\" className=\"form-text\">Enter a Steam 'vanity' URL of a user.</small>\r\n              </div>\r\n              <div className=\"form-group\">\r\n                <label htmlFor=\"game\">Steam Game</label>\r\n                <input type=\"text\"\r\n                      className=\"form-control\"\r\n                      id=\"game\"\r\n                      aria-describedby=\"game-help\"\r\n                      placeholder=\"Enter a Steam Game\"\r\n                      name=\"game\"\r\n                      value={appSearch}\r\n                      onChange={e => setAppSearch(e.target.value)}\r\n                      />\r\n                <small id=\"game-help\" className=\"form-text\">Enter a game or app that is available on Steam.</small>\r\n              </div>\r\n              <button type=\"submit\" id=\"entry-submit\" className=\"btn btn-primary\" >Search!</button>\r\n            </form>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    );\r\n\r\n    let bodyHTML = isMainMenuSearch ? centeredSearchHTML : searchMenuWithStatsHTML;\r\n\r\n    //when the seach button is pressed, set the states of the searchbar, inturn showing the correct HTML\r\n    function handleSubmit(event)\r\n    {\r\n      console.log(\"BUTTON PRESS: Searched name: \" + usernameSearch + \". Searched app: \"+ appSearch);\r\n      event.preventDefault();\r\n      if (appSearch || usernameSearch)\r\n      {\r\n        console.log(\"there is a search present\");\r\n        if (!isMainMenuSearch)\r\n        {\r\n          console.log(\"stats window already open, calling grabData() manually.\");\r\n          setIsMainMenuSearch(false);\r\n          return bodyHTML;\r\n        }\r\n        setIsMainMenuSearch(false);\r\n      }\r\n      else\r\n      {\r\n        console.log(\"there is not a search present\")\r\n        setIsMainMenuSearch(true);\r\n      };\r\n    };\r\n\r\n    function handleClick(event){\r\n      setClick(searchClick+1);\r\n    }\r\n    \r\n    return bodyHTML;\r\n  };\r\n\r\n  //always show the header and footer, then show whatever searchbar is active in BodyHTML tags\r\n  return (\r\n    <div className='App'>\r\n      <div className=\"container-fluid\">\r\n        <div className=\"row\">\r\n          <div className=\"header col-xs-12 col-md-12\">\r\n            <h1>Title</h1>\r\n          </div>\r\n        </div>\r\n        <BodyHTML></BodyHTML>\r\n        <div className=\"row\">\r\n          <div className=\"footer col-xs-12 col-md-12 bg-dark\">\r\n            <hr />\r\n            <p className=\"footer-links\">\r\n              <a href=\"https://steamdb.info/calculator/\">SteamDB</a> |&nbsp;\r\n              <a href=\"https://store.steampowered.com/\">Steam Store</a> |&nbsp;\r\n              <a href=\"https://partner.steamgames.com/doc/webapi_overview\">Steam Web API Documentation</a> |&nbsp;\r\n              <a href=\"https://steamapi.xpaw.me/\">xPaw's Steam Web API Documentation</a>\r\n            </p>\r\n            <p className=\"footer-authors font-weight-light\">\r\n              Created by Arturo Bravo, Courtney Ficker, Max Oakes\r\n            </p>\r\n            <p className=\"footer-legal text-muted \">Steam and the Steam logo are trademarks of\r\n            Valve Corporation. All other trademarks are property of their respective owners.\r\n            This deployment was created under fair use.\r\n            </p>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default App;","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\n//import './main.css';\r\nimport App from './App';\r\n\r\nReactDOM.render(\r\n  <React.StrictMode>\r\n    <App />\r\n  </React.StrictMode>,\r\n  document.getElementById('root')\r\n);"],"sourceRoot":""}