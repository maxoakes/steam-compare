(this.webpackJsonpsteamcompare=this.webpackJsonpsteamcompare||[]).push([[0],{25:function(e,t,a){},34:function(e,t,a){"use strict";a.r(t);var s=a(1),r=a.n(s),n=a(18),c=a.n(n),o=a(4),l=(a(25),a(26),a(14)),i=a(9),m=a.n(i),d=a(19),p=a(11),u=a(2),h=a(0),j=function(e){var t=e.usernameSearch,a=e.searchClick,r="https://still-tor-77449.herokuapp.com/",n="386540A52F687754D4E1767230822EDE",c={mode:"cors",cache:"no-cache",credentials:"same-origin",headers:{"Content-Type":"application/json"},redirect:"follow",referrerPolicy:"no-referrer"};console.log("SEARCH:",t);var l=Object(s.useState)(""),i=Object(o.a)(l,2),j=i[0],b=i[1],g=Object(s.useState)(""),x=Object(o.a)(g,2),f=x[0],v=x[1],O=Object(s.useState)(""),S=Object(o.a)(O,2),y=S[0],N=S[1],w=Object(s.useState)(""),k=Object(o.a)(w,2),G=k[0],I=k[1],U=Object(s.useState)(!1),P=Object(o.a)(U,2),C=(P[0],P[1],Object(s.useState)(0)),A=Object(o.a)(C,2),F=(A[0],A[1]),L=Object(s.useState)([]),E=Object(o.a)(L,2),D=E[0],T=E[1],B=Object(s.useState)(0),R=Object(o.a)(B,2),_=(R[0],R[1]),M=Object(s.useState)(""),q=Object(o.a)(M,2),H=q[0],V=q[1],J=Object(s.useState)(""),W=Object(o.a)(J,2),Y=W[0],z=W[1],K=Object(s.useState)(0),Q=Object(o.a)(K,2),X=Q[0],Z=Q[1],$=Object(s.useState)([]),ee=Object(o.a)($,2),te=ee[0],ae=ee[1],se=Object(s.useState)([]),re=Object(o.a)(se,2),ne=(re[0],re[1]);function ce(){return(ce=Object(p.a)(m.a.mark((function e(t){var a,s,o,l,i,d,p,u,h,j,g,x,f,v,O,S,y,w,k,G,I,U,P,C,A;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(T(null),z(null),ae(null),ne(null),a=document.getElementById("game").value,!(s=document.getElementById("username").value)){e.next=14;break}return console.log("ISteamUser/ResolveVanityURL"),e.next=10,ie(r+"https://api.steampowered.com/ISteamUser/ResolveVanityURL/v1/?key="+n+"&vanityurl="+s+"&format=json",c);case 10:d=e.sent,console.log(d.response),o=d.response.steamid,console.log("Found user "+o+" from "+s);case 14:if(!a){e.next=21;break}return console.log("ISteamApps/GetAppList"),e.next=18,ie(r+"http://api.steampowered.com/ISteamApps/GetAppList/v0002/",c);case 18:p=e.sent,(u=p.applist.apps.find((function(e){return e.name.toLowerCase()===a.toLowerCase()})))?(l=u.appid,i=u.name,console.log("Found game "+u.appid+" from "+a)):console.log("No game found with: "+a);case 21:if(!o){e.next=32;break}return console.log("ISteamUser/GetPlayerSummaries"),e.next=25,ie(r+"https://api.steampowered.com/ISteamUser/GetPlayerSummaries/v2/?key="+n+"&steamids="+o+"&format=json",c);case 25:return h=e.sent,console.log("IPlayerService/GetSteamLevel"),e.next=29,ie(r+"https://api.steampowered.com/IPlayerService/GetSteamLevel/v1/?key="+n+"&steamid="+o+"&format=json",c);case 29:j=e.sent,b(h.response.players[0]),N(j.response.player_level);case 32:if(!o||!l){e.next=75;break}return console.log("\tappid AND steamid searched"),console.log("ISteamUserStats/GetPlayerAchievements"),e.next=37,ie(r+"https://api.steampowered.com/ISteamUserStats/GetPlayerAchievements/v1/?key="+n+"&steamid="+o+"&appid="+l+"&format=json",c);case 37:return g=e.sent,console.log(g),console.log("ISteamUserStats/GetGlobalAchievementPercentagesForApp"),e.next=42,ie(r+"https://api.steampowered.com/ISteamUserStats/GetGlobalAchievementPercentagesForApp/v2/?key="+n+"&gameid="+l+"&format=json",c);case 42:return x=e.sent,console.log(x),console.log("ISteamUserStats/GetNumberOfCurrentPlayers"),e.next=47,ie(r+"https://api.steampowered.com/ISteamUserStats/GetNumberOfCurrentPlayers/v1/?key="+n+"&appid="+l+"&format=json",c);case 47:return f=e.sent,console.log(f),Z(f.response.player_count),console.log("ISteamUserStats/GetSchemaForGame"),e.next=53,ie(r+"https://api.steampowered.com/ISteamUserStats/GetSchemaForGame/v2/?key="+n+"&appid="+l+"&format=json",c);case 53:return v=e.sent,console.log(v.game),e.prev=55,O=v.game.availableGameStats.stats,console.log("ISteamUserStats/GetGlobalStatsForGame"),e.next=60,ie(r+"https://api.steampowered.com/ISteamUserStats/GetGlobalStatsForGame/v1/?key="+n+"&appid="+l+"&count="+O.length+"&name[0]="+O[0].name+"&format=json",c);case 60:return S=e.sent,console.log(S),console.log("ISteamUserStats/GetUserStatsForGame"),e.next=65,ie(r+"https://api.steampowered.com/ISteamUserStats/GetUserStatsForGame/v2/?key="+n+"&appid="+l+"&steamid="+o+"&format=json",c);case 65:y=e.sent,console.log(y.playerstats.stats),e.next=72;break;case 69:e.prev=69,e.t0=e.catch(55),console.log("Game does not have stats");case 72:try{v.game.availableGameStats.achievements&&(w=oe(g.playerstats.achievements,x.achievementpercentages.achievements,v.game.availableGameStats.achievements),console.log(w),ae(w))}catch(t){console.error("Something in gameSchemaResponse.game.availableGameStats is undefined")}e.next=117;break;case 75:if(!o||l){e.next=116;break}return console.log("\tONLY steamid searched"),console.log("IPlayerService/GetOwnedGames"),e.next=80,ie(r+"https://api.steampowered.com/IPlayerService/GetOwnedGames/v1/?key="+n+"&steamid="+o+"&format=json&include_appinfo=1",c);case 80:return k=e.sent,console.log(k.response),console.log("IPlayerService/GetRecentlyPlayedGames"),e.next=85,ie(r+"https://api.steampowered.com/IPlayerService/GetRecentlyPlayedGames/v1/?key="+n+"&steamid="+o+"&format=json",c);case 85:return G=e.sent,console.log(G.response),console.log("IPlayerService/GetCommunityBadgeProgress"),e.next=90,ie(r+"https://api.steampowered.com/IPlayerService/GetCommunityBadgeProgress/v1/?key="+n+"&steamid="+o+"&format=json",c);case 90:return I=e.sent,console.log(I.response),console.log("ISteamUser/GetFriendList"),e.next=95,ie(r+"https://api.steampowered.com/ISteamUser/GetFriendList/v1/?key="+n+"&steamid="+o+",&format=json",c);case 95:return U=e.sent,console.log(U),console.log("ISteamUser/GetPlayerBans"),e.next=100,ie(r+"https://api.steampowered.com/ISteamUser/GetPlayerBans/v1/?key="+n+"&steamids="+o+"&format=json",c);case 100:return P=e.sent,console.log(P.players[0]),console.log("ISteamUser/GetPlayerSummaries"),e.next=105,ie(r+"https://api.steampowered.com/ISteamUser/GetPlayerSummaries/v2/?key="+n+"&steamids="+o+"&format=json",c);case 105:return C=e.sent,console.log(C.response.players[0]),b(C.response.players[0]),console.log("ISteamUser/GetUserGroupList"),e.next=111,ie(r+"https://api.steampowered.com/ISteamUser/GetUserGroupList/v1/?key="+n+"&steamid="+o+"&format=json",c);case 111:A=e.sent,console.log(A.response),T(G.response.games),e.next=117;break;case 116:!o&&l?console.log("\tONLY appid searched"):console.log("\tNO item searched");case 117:F(o),_(l),z(i),de(l);case 121:case"end":return e.stop()}}),e,null,[[55,69]])})))).apply(this,arguments)}function oe(e,t,a){for(var s=[],r=0;r<a.length;r++){var n=Object(d.a)({achieved:e[r].achieved,apiname:e[r].apiname,unlocktime:e[r].unlocktime,name:t[r].name,percent:t[r].percent,defaultvalue:a[r].defaultvalue,displayName:a[r].displayName,hidden:a[r].hidden,icon:a[r].icon,icongray:a[r].icongray},"name",a[r].name);s.push(n)}return s}function le(e){if(!e)return"Private";var t=new Date(1e3*e);return t.toDateString()+" at "+t.getUTCHours().toString().padStart(2,"0")+":"+t.getUTCMinutes().toString().padStart(2,"0")+" UTC"}function ie(e,t){return me.apply(this,arguments)}function me(){return(me=Object(p.a)(m.a.mark((function e(t,a){var s,r;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch(t,a);case 2:if(!((s=e.sent).status>=400&&s.status<500)){e.next=8;break}return console.error("client error. returning undefined to be caught later on"),e.abrupt("return",void 0);case 8:s.ok||console.error("There was an error: "+s.status);case 9:return e.next=11,s.json();case 11:return r=e.sent,e.abrupt("return",r);case 13:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function de(e){return pe.apply(this,arguments)}function pe(){return(pe=Object(p.a)(m.a.mark((function e(t){var a;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a="https://steamcdn-a.akamaihd.net/steam/apps/"+t+"/page_bg_generated.jpg",e.next=3,fetch(r+a).then((function(e){return e.ok?e:Promise.reject(e.status)})).catch((function(e){return console.log("Error getting high-quality game image, using default, low-res header img instead: "+e),a="https://steamcdn-a.akamaihd.net/steam/apps/"+t+"/header.jpg"})).finally((function(){return a}));case 3:e.sent,V(a);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function ue(e){return e.achieved?"Unlocked "+le(e.unlocktime):"Locked"}function he(e){return e.description?e.description:""}return Object(s.useEffect)((function(){!function(e){ce.apply(this,arguments)}()}),[a]),Object(s.useEffect)((function(){switch(j.personastate){case 0:v("Offline");break;case 1:v("Online");break;case 2:v("Busy");break;case 3:v("Away");break;case 4:v("Snooze");break;case 5:v("Looking to Trade");break;case 6:v("Looking to Play");break;default:v("Private")}I(le(j.lastlogoff))}),[j]),Object(h.jsxs)("div",{children:[Object(h.jsx)("div",{className:"row",children:Object(h.jsxs)("div",{className:"col-xs-12 col-md-12",children:[Object(h.jsx)("div",{className:"row",children:Object(h.jsx)("div",{className:"user-info col-xs-8 col-md-8 d-flex justify-content-center",children:Object(h.jsxs)("div",{className:"profile-info yellow-neon-border mb-4 mt-2",children:[Object(h.jsx)("div",{className:"d-flex justify-content-center mt-2",children:Object(h.jsx)("img",{id:"profile-image",src:j.avatarfull,height:"100px",width:"100px",alt:"Avatar"})}),Object(h.jsxs)("p",{className:"profile-text",children:[Object(h.jsxs)("span",{id:"profile-display-name",children:[j.personaname," | "]}),j.loccountrycode&&Object(h.jsxs)("span",{id:"profile-country",children:[j.loccountrycode," | "]}),Object(h.jsx)("span",{id:"profile-status",children:f}),Object(h.jsx)("br",{}),Object(h.jsxs)("span",{id:"profile-level",children:["Level ",y]})," |",Object(h.jsxs)("span",{id:"profile-steamid",children:[" Steam ID: ",j.steamid]})," |",Object(h.jsxs)("span",{id:"profile-steamid",children:[" Last Time Online: ",G]})]})]})})}),Object(h.jsxs)("div",{id:"user-app-content",className:"row justify-content-center",children:[D&&Object(h.jsx)("div",{className:"container",children:Object(h.jsxs)("div",{className:"profile-info yellow-neon-border mx-auto pb-2 flex-row flex-wrap d-flex",children:[Object(h.jsx)("h4",{className:"col-12 text-center mt-2",children:"Recently Played Games"}),D.map((function(e){return Object(h.jsxs)("div",{className:"rounded the-game bg-secondary flex-fill m-2 p-2 col-xs-12 col-sm-6 col-md-4",children:[Object(h.jsx)("img",{id:"game-icon",className:"mr-3",src:"http://media.steampowered.com/steamcommunity/public/images/apps/"+e.appid+"/"+e.img_icon_url+".jpg",alt:"Game icon:"+e.name}),Object(h.jsx)("span",{className:"ml-2",children:e.name}),Object(h.jsxs)("span",{className:"game-facts rounded border border-light m-2 p-2",children:["Playtime: ",(t=e.playtime_forever,Math.floor(t/60)+" hr "+t%60+" min")]})]},e.appid);var t}))]})}),Y&&Object(h.jsxs)("div",{className:"row game-banner",children:[Object(h.jsx)("div",{className:"col-xs-12 col-md-8 game-banner-title m-0 p-0",style:{backgroundImage:"url(".concat(H,")")},children:Object(h.jsx)("h2",{className:"text-light text-left align-middle",style:{lineHeight:"75px"},children:Y})}),Object(h.jsxs)("div",{className:"col-xs-12 col-md-4 game-banner-info",children:[Object(h.jsx)("p",{className:"text-light game-banner-info-playercount",children:X+" players online"}),Object(h.jsx)("p",{className:"text-light game-banner-info-achievement",children:function(e){if(e){for(var t=0,a=0;a<e.length;a++)e[a].achieved&&t++;return t+" out of "+e.length+" achievements obtained"}return"This game does not have achievements"}(te)})]})]}),te&&Object(h.jsx)("div",{className:"row col-xs-12",children:Object(h.jsx)("div",{className:"achievement-grid flex-row flex-wrap d-flex justify-content-between",children:te.map((function(e){return Object(h.jsxs)("div",{className:"achievement-square flex-fill col-xs-12 col-sm-6 col-md-4 col-lg-3",children:[Object(h.jsx)("img",{className:"achievement-icon mx-auto",src:e.icon,alt:e.name,width:"75px",height:"75px"}),Object(h.jsxs)("p",{className:"achievement-global-percent text-light",children:[e.percent.toFixed(2),"% of players have this achievement."]}),Object(h.jsx)("p",{className:"achievement-unlock text-light",children:ue(e)}),Object(h.jsx)("h3",{className:"achievement-title text-light",children:e.displayName}),Object(h.jsx)("p",{className:"achievement-description text-light",children:he(e)})]},e.name)}))})})]})]})}),Object(h.jsx)("div",{className:"footer-space"}),Object(h.jsx)(u.a,{to:"/"})]})};var b=function(){function e(){var e=Object(s.useState)(""),t=Object(o.a)(e,2),a=t[0],r=t[1],n=Object(s.useState)(""),c=Object(o.a)(n,2),i=c[0],m=c[1],d=Object(s.useState)(!0),p=Object(o.a)(d,2),u=p[0],b=p[1],g=Object(s.useState)(0),x=Object(o.a)(g,2),f=x[0],v=x[1];Object(s.useEffect)((function(){console.log("Searched name: "+a+". Searched app: "+i)}));var O=Object(h.jsx)("div",{className:"row",children:Object(h.jsxs)("div",{className:"body col-12",children:[Object(h.jsx)("form",{onSubmit:y,children:Object(h.jsxs)("div",{className:"form-group row",children:[Object(h.jsxs)("div",{className:"col-sm-5",children:[Object(h.jsx)("label",{className:"blue-glow",htmlFor:"username",children:"Steam ID"}),Object(h.jsx)("input",{type:"text",className:"form-control dark-bg",id:"username","aria-describedby":"username-help",placeholder:"Enter a Steam ID",name:"username",value:a,onChange:function(e){return r(e.target.value)}})]}),Object(h.jsxs)("div",{className:"col-sm-5",children:[Object(h.jsx)("label",{className:"green-glow",htmlFor:"game",children:"Steam Game"}),Object(h.jsx)("input",{type:"text",className:"form-control",id:"game","aria-describedby":"game-help",placeholder:"Enter a Steam Game",name:"game",value:i,onChange:function(e){return m(e.target.value)}})]}),Object(h.jsx)("div",{className:"col-sm-2 mt-4",children:Object(h.jsx)("button",{type:"submit",id:"entry-submit",className:"btn btn-primary bg-dark",onClick:function(e){v(f+1)},children:"Search!"})})]})}),Object(h.jsx)("br",{}),Object(h.jsx)(l.a,{children:Object(h.jsx)(j,{usernameSearch:a,searchClick:f})})]})}),S=u?Object(h.jsx)("div",{className:"row",children:Object(h.jsx)("div",{className:"body col-xs-12 col-md-12",children:Object(h.jsx)("div",{className:"form-body",children:Object(h.jsxs)("form",{id:"entry-form",onSubmit:y,children:[Object(h.jsxs)("div",{className:"form-group",children:[Object(h.jsx)("label",{htmlFor:"username",children:"Steam ID"}),Object(h.jsx)("label",{className:"blue-glow",htmlFor:"username",children:"Steam ID"}),Object(h.jsx)("input",{type:"text",className:"form-control dark-bg",id:"username","aria-describedby":"username-help",placeholder:"Enter a Steam ID",name:"username",value:a,onChange:function(e){return r(e.target.value)},required:!0}),Object(h.jsx)("small",{id:"username-help",className:"form-text",children:"Enter a Steam 'vanity' URL of a user."})]}),Object(h.jsxs)("div",{className:"form-group",children:[Object(h.jsx)("label",{htmlFor:"game",children:"Steam Game"}),Object(h.jsx)("input",{type:"text",className:"form-control",id:"game","aria-describedby":"game-help",placeholder:"Enter a Steam Game",name:"game",value:i,onChange:function(e){return m(e.target.value)}}),Object(h.jsx)("small",{id:"game-help",className:"form-text",children:"Enter a game or app that is available on Steam."})]}),Object(h.jsx)("button",{type:"submit",id:"entry-submit",className:"btn btn-primary",children:"Search!"})]})})})}):O;function y(e){if(console.log("BUTTON PRESS: Searched name: "+a+". Searched app: "+i),e.preventDefault(),i||a){if(console.log("there is a search present"),!u)return console.log("stats window already open, calling grabData() manually."),b(!1),S;b(!1)}else console.log("there is not a search present"),b(!0)}return S}return Object(h.jsx)("div",{className:"App",children:Object(h.jsxs)("div",{className:"container-fluid",children:[Object(h.jsx)("div",{className:"row",children:Object(h.jsx)("div",{className:"header col-xs-12 col-md-12",children:Object(h.jsx)("h1",{children:"Title"})})}),Object(h.jsx)(e,{}),Object(h.jsx)("div",{className:"row",children:Object(h.jsxs)("div",{className:"footer col-xs-12 col-md-12 bg-dark",children:[Object(h.jsx)("hr",{}),Object(h.jsxs)("p",{className:"footer-links",children:[Object(h.jsx)("a",{href:"https://steamdb.info/calculator/",children:"SteamDB"})," |\xa0",Object(h.jsx)("a",{href:"https://store.steampowered.com/",children:"Steam Store"})," |\xa0",Object(h.jsx)("a",{href:"https://partner.steamgames.com/doc/webapi_overview",children:"Steam Web API Documentation"})," |\xa0",Object(h.jsx)("a",{href:"https://steamapi.xpaw.me/",children:"xPaw's Steam Web API Documentation"})]}),Object(h.jsx)("p",{className:"footer-authors font-weight-light",children:"Created by Arturo Bravo, Courtney Ficker, Max Oakes"}),Object(h.jsx)("p",{className:"footer-legal text-muted ",children:"Steam and the Steam logo are trademarks of Valve Corporation. All other trademarks are property of their respective owners. This deployment was created under fair use."})]})})]})})};c.a.render(Object(h.jsx)(r.a.StrictMode,{children:Object(h.jsx)(b,{})}),document.getElementById("root"))}},[[34,1,2]]]);
//# sourceMappingURL=main.4a885ca8.chunk.js.map